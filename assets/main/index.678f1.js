window.__require=function t(e,o,n){function r(i,u){if(!o[i]){if(!e[i]){var l=i.split("/");if(l=l[l.length-1],!e[l]){var a="function"==typeof __require&&__require;if(!u&&a)return a(l,!0);if(c)return c(l,!0);throw new Error("Cannot find module '"+i+"'")}i=l}var s=o[i]={exports:{}};e[i][0].call(s.exports,function(t){return r(e[i][1][t]||t)},s,s.exports,t,e,o,n)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<n.length;i++)r(n[i]);return r}({Helloworld:[function(t,e,o){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","Helloworld");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,u=i.ccclass,l=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),e.prototype.start=function(){this.label.string=this.text},c([l(cc.Label)],e.prototype,"label",void 0),c([l],e.prototype,"text",void 0),c([u],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],WalletMgr:[function(t,e,o){"use strict";cc._RF.push(e,"7cea4ki/OlAKrCnv8sDEjVG","WalletMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i},i=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,c){function i(t){try{l(n.next(t))}catch(e){c(e)}}function u(t){try{l(n.throw(t))}catch(e){c(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(i,u)}l((n=n.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var o,n,r,c,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return c={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function u(t){return function(e){return l([t,e])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,n=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){i.label=c[1];break}if(6===c[0]&&i.label<r[1]){i.label=r[1],r=c;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(c);break}r[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(u){c=[6,u],n=0}finally{o=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,a=l.ccclass,s=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.address=null,e.btnConnect=null,e.buyNode=null,e.amount=null,e.text="hello",e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.s_inst=this,window.addEventListener("message",this.receiveMessage,!1)},e.prototype.start=function(){return i(this,void 0,void 0,function(){return u(this,function(){return window.getWallet(),[2]})})},e.prototype.onConnectClick=function(){return i(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,window.connectdata()];case 1:return t.sent(),[2]}})})},e.prototype.buyData=function(){var t={action:"buy",amount:1e6*Number(this.amount.string)+"000"};console.log(t),this.postP(t)},e.prototype.postP=function(t){var e=window.parent;this.sendP(e,t)},e.prototype.sendP=function(t,e){t&&(console.log(e),t.postMessage(e,"*"))},e.prototype.receiveMessage=function(t){return i(this,void 0,void 0,function(){var e;return u(this,function(){console.log(t);try{(e=JSON.parse(t.data)).address&&(o.s_inst.address.string=e.address,o.s_inst.btnConnect.active=!1,o.s_inst.buyNode.active=!0)}catch(n){console.log(n)}return[2]})})},e.s_inst=null,c([s(cc.Label)],e.prototype,"address",void 0),c([s(cc.Node)],e.prototype,"btnConnect",void 0),c([s(cc.Node)],e.prototype,"buyNode",void 0),c([s(cc.EditBox)],e.prototype,"amount",void 0),c([s],e.prototype,"text",void 0),o=c([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}]},{},["Helloworld","WalletMgr"]);