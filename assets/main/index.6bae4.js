window.__require=function t(e,n,o){function r(a,c){if(!n[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return r(e[a][1][t]||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({ApiService:[function(t,e,n){"use strict";cc._RF.push(e,"662ffHRIWhFqIBL5VpQWPY8","ApiService");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EndPoint=void 0;var s=t("../GamePlay/GamePlayManager"),l=t("../SceneManager"),u=t("../Utils/GameCofig"),p=cc._decorator,h=p.ccclass;p.property,function(t){t.REQUEST_GET_USER_INFO="/get-info-tele",t.REQUEST_GET_USER_INFO_TEST="/users"}(n.EndPoint||(n.EndPoint={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baseUrl=u.default.apiURL,e.authen=u.default.auth,e.address=u.default.address,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return n.instance=this.getComponent(n),window.Telegram?[4,window.Telegram.WebApp.initData]:[3,3];case 1:return t=e.sent(),[4,window.Telegram.WebApp.initDataUnsafe];case 2:e.sent()&&(this.authen=t),e.label=3;case 3:return[2]}})})},e.prototype.requestLogin=function(){return a(this,void 0,void 0,function(){var t,e,n;return c(this,function(o){switch(o.label){case 0:t={auth:this.authen},o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch(this.baseUrl+"/login",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)})];case 2:return[4,o.sent().json()];case 3:return e=o.sent(),console.log("myJson = ",e),e?[2,e]:[3,5];case 4:return n=o.sent(),console.log("error = ",n),[2,!1];case 5:return[2]}})})},e.prototype.updateAddress=function(t){return a(this,void 0,void 0,function(){var e,n,o;return c(this,function(r){switch(r.label){case 0:e={wallet:t,auth:this.authen},r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(this.baseUrl+"/updateAddress",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 2:return[4,r.sent().json()];case 3:return n=r.sent(),console.log("myJson = ",n),n?[2,n]:[3,5];case 4:return o=r.sent(),console.log("error = ",o),[2,!1];case 5:return[2]}})})},e.prototype.getAddress=function(t){return a(this,void 0,void 0,function(){var e,n,o;return c(this,function(r){switch(r.label){case 0:e={walletHex:t},r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(this.baseUrl+"/getAddress",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 2:return[4,r.sent().json()];case 3:return n=r.sent(),console.log("myJson = ",n),n?[2,n]:[3,5];case 4:return o=r.sent(),console.log("error = ",o),[2,!1];case 5:return[2]}})})},e.prototype.requestGetConfig=function(){return a(this,void 0,void 0,function(){var t,e,n;return c(this,function(o){switch(o.label){case 0:t={auth:this.authen},o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch(this.baseUrl+"/getConfig",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)})];case 2:return[4,o.sent().json()];case 3:return e=o.sent(),console.log("myJson = ",e),e?[2,e]:[3,5];case 4:return n=o.sent(),console.log("error = ",n),[2,!1];case 5:return[2]}})})},e.prototype.requestGetFarm=function(t){return a(this,void 0,void 0,function(){var e,n,o;return c(this,function(r){switch(r.label){case 0:e={farmId:t},r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(this.baseUrl+"/getFarm",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 2:return[4,r.sent().json()];case 3:return(n=r.sent())?[2,n]:[3,5];case 4:return o=r.sent(),console.log("error = ",o),[2,!1];case 5:return[2]}})})},e.prototype.requestUnlockFarmID=function(t){return a(this,void 0,void 0,function(){var e,n,o;return c(this,function(r){switch(r.label){case 0:e={auth:this.authen,farmId:l.default.instance.listFarmID[s.default.instance.currentFarm],slotNumber:t},console.log("objRequest = ",e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(this.baseUrl+"/unlockLand",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 2:return[4,r.sent().json()];case 3:return n=r.sent(),console.log("myJson = ",n),n?[2,n]:[3,5];case 4:return o=r.sent(),console.log("error = ",o),[2,!1];case 5:return[2]}})})},e.prototype.requestPlantFarmID=function(t){return a(this,void 0,void 0,function(){var e,n,o;return c(this,function(r){switch(r.label){case 0:e={auth:this.authen,farmId:s.default.instance.farmID,slot:"slot"+t},console.log("objRequest = ",e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(this.baseUrl+"/plant",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 2:return[4,r.sent().json()];case 3:return n=r.sent(),console.log("myJson = ",n),n?[2,n]:[3,5];case 4:return o=r.sent(),console.log("error = ",o),[2,!1];case 5:return[2]}})})},e.prototype.requestWateringID=function(t){return a(this,void 0,void 0,function(){var e,n,o;return c(this,function(r){switch(r.label){case 0:e={auth:this.authen,treeId:t},console.log("objRequest = ",e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(this.baseUrl+"/watering",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 2:return[4,r.sent().json()];case 3:return n=r.sent(),console.log("myJson = ",n),n?[2,n]:[3,5];case 4:return o=r.sent(),console.log("error = ",o),[2,!1];case 5:return[2]}})})},e.prototype.requestCompostID=function(t){return a(this,void 0,void 0,function(){var e,n,o;return c(this,function(r){switch(r.label){case 0:e={auth:this.authen,treeId:t},console.log("objRequest = ",e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(this.baseUrl+"/ferlitizing",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 2:return[4,r.sent().json()];case 3:return n=r.sent(),console.log("myJson = ",n),n?[2,n]:[3,5];case 4:return o=r.sent(),console.log("error = ",o),[2,!1];case 5:return[2]}})})},e.prototype.requestCollectID=function(t){return a(this,void 0,void 0,function(){var e,n,o;return c(this,function(r){switch(r.label){case 0:e={auth:this.authen,treeId:t},console.log("objRequest = ",e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(this.baseUrl+"/collect",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 2:return[4,r.sent().json()];case 3:return n=r.sent(),console.log("myJson = ",n),n?[2,n]:[3,5];case 4:return o=r.sent(),console.log("error = ",o),[2,!1];case 5:return[2]}})})},e.prototype.requestByCompost=function(t){return a(this,void 0,void 0,function(){var e,n,o;return c(this,function(r){switch(r.label){case 0:e={auth:this.authen,number:t},console.log("objRequest = ",e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(this.baseUrl+"/buycompost",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 2:return[4,r.sent().json()];case 3:return n=r.sent(),console.log("myJson = ",n),n?[2,n]:[3,5];case 4:return o=r.sent(),console.log("error = ",o),[2,!1];case 5:return[2]}})})},e.prototype.requestByWater=function(t){return a(this,void 0,void 0,function(){var e,n,o;return c(this,function(r){switch(r.label){case 0:e={auth:this.authen,number:t},console.log("objRequest = ",e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(this.baseUrl+"/buywater",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 2:return[4,r.sent().json()];case 3:return n=r.sent(),console.log("myJson = ",n),n?[2,n]:[3,5];case 4:return o=r.sent(),console.log("error = ",o),[2,!1];case 5:return[2]}})})},e.prototype.requestUpgrade=function(t){return a(this,void 0,void 0,function(){var e,n,o;return c(this,function(r){switch(r.label){case 0:e={auth:this.authen,treeId:t},console.log("objRequest = ",e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(this.baseUrl+"/upgrade",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)})];case 2:return[4,r.sent().json()];case 3:return n=r.sent(),console.log("myJson = ",n),n?[2,n]:[3,5];case 4:return o=r.sent(),console.log("error = ",o),[2,!1];case 5:return[2]}})})},e.instance=null,n=i([h],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../GamePlay/GamePlayManager":"GamePlayManager","../SceneManager":"SceneManager","../Utils/GameCofig":"GameCofig"}],ByCompost:[function(t,e,n){"use strict";cc._RF.push(e,"a5a0fLi2qxGpZmmUCDrZ66B","ByCompost");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../API/ApiService"),l=t("../SceneManager"),u=t("../Sound/SoundManager"),p=t("./GamePlayManager"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.number_txt=null,e.number_price_txt=null,e}return r(e,t),e.prototype.Init=function(){this.count=1,this.price=l.default.instance.priceCompost*this.count,this.number_txt.string=""+this.count,this.number_price_txt.string=""+this.price},e.prototype.OnClickAdd=function(){l.default.instance.priceCompost*this.count+l.default.instance.priceCompost<=p.default.instance.starTokenNumber&&(u.default.inst.playSound(u.AudioClips.button_click),this.count++,this.price=l.default.instance.priceCompost*this.count,this.number_txt.string=""+this.count,this.number_price_txt.string=""+this.price)},e.prototype.OnClickMinus=function(){this.count>1&&(u.default.inst.playSound(u.AudioClips.button_click),this.count--,this.price=l.default.instance.priceCompost*this.count,this.number_txt.string=""+this.count,this.number_price_txt.string=""+this.price)},e.prototype.OnClickBy=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.count>0&&l.default.instance.priceCompost*this.count<p.default.instance.starTokenNumber?(u.default.inst.playSound(u.AudioClips.button_click),[4,this.ByCompost()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.OnClickClose=function(){u.default.inst.playSound(u.AudioClips.button_click),this.node.active=!1},e.prototype.ByCompost=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return l.default.instance.ShowLoading(!0),[4,s.default.instance.requestByCompost(this.count)];case 1:return(t=e.sent())&&(console.log("byCompost = ",t),p.default.instance.parseUser(t.data)),l.default.instance.ShowLoading(!1),[2]}})})},i([f(cc.Label)],e.prototype,"number_txt",void 0),i([f(cc.Label)],e.prototype,"number_price_txt",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../API/ApiService":"ApiService","../SceneManager":"SceneManager","../Sound/SoundManager":"SoundManager","./GamePlayManager":"GamePlayManager"}],ByWater:[function(t,e,n){"use strict";cc._RF.push(e,"08b50/qpelMP7ZhzU88Fbqa","ByWater");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../API/ApiService"),l=t("../SceneManager"),u=t("../Sound/SoundManager"),p=t("./GamePlayManager"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.number_txt=null,e.number_price_txt=null,e}return r(e,t),e.prototype.Init=function(){this.count=1,this.price=l.default.instance.priceWater*this.count,this.number_txt.string=""+this.count,this.number_price_txt.string=""+this.price},e.prototype.OnClickAdd=function(){l.default.instance.priceWater*this.count+l.default.instance.priceWater<=p.default.instance.starTokenNumber&&(u.default.inst.playSound(u.AudioClips.button_click),this.count++,this.price=l.default.instance.priceWater*this.count,this.number_txt.string=""+this.count,this.number_price_txt.string=""+this.price)},e.prototype.OnClickMinus=function(){this.count>1&&(u.default.inst.playSound(u.AudioClips.button_click),this.count--,this.price=l.default.instance.priceWater*this.count,this.number_txt.string=""+this.count,this.number_price_txt.string=""+this.price)},e.prototype.OnClickBy=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.count>0&&l.default.instance.priceWater*this.count<p.default.instance.starTokenNumber?(u.default.inst.playSound(u.AudioClips.button_click),[4,this.ByWater()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.OnClickClose=function(){u.default.inst.playSound(u.AudioClips.button_click),this.node.active=!1},e.prototype.ByWater=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return l.default.instance.ShowLoading(!0),[4,s.default.instance.requestByWater(this.count)];case 1:return(t=e.sent())&&(console.log("byWater = ",t),p.default.instance.parseUser(t.data)),l.default.instance.ShowLoading(!1),[2]}})})},i([f(cc.Label)],e.prototype,"number_txt",void 0),i([f(cc.Label)],e.prototype,"number_price_txt",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../API/ApiService":"ApiService","../SceneManager":"SceneManager","../Sound/SoundManager":"SoundManager","./GamePlayManager":"GamePlayManager"}],CompostingSlot:[function(t,e,n){"use strict";cc._RF.push(e,"c2879aNKMJFmqoGLDcpwdTF","CompostingSlot");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../API/ApiService"),l=t("../SceneManager"),u=t("../Sound/SoundManager"),p=t("./GamePlayManager"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.number_price_txt=null,e.number_multi_txt=null,e.remaining_txt=null,e.composting=null,e.composted=null,e}return r(e,t),e.prototype.Init=function(t){console.log("index = ",t.index),this._plant=t,this._id=t._id,this._index=t.index,this.remaining_txt.string="REMAINING: "+p.default.instance.compostNumber,this.price=p.default.instance.compostNumber,this.composted.active=!1,this.composting.active=!0,this.data=null},e.prototype.OnClickBy=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.price>0?(u.default.inst.playSound(u.AudioClips.button_click),[4,this.CompostingPlantSlot()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.OnClickClose=function(){u.default.inst.playSound(u.AudioClips.button_click),this.node.active=!1},e.prototype.OnClickClosed=function(){u.default.inst.playSound(u.AudioClips.button_click),this.node.active=!1,this._plant.CompostingAnim(this.data)},e.prototype.CompostingPlantSlot=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return l.default.instance.ShowLoading(!0),[4,s.default.instance.requestCompostID(this._id)];case 1:return(t=e.sent())&&(console.log("byPlantSlot = ",t),this.data=t.tree,this.ShowData(t.tree),p.default.instance.parseUser(t.user)),l.default.instance.ShowLoading(!1),[2]}})})},e.prototype.ShowData=function(t){this.Detail(t)},e.prototype.Detail=function(t){this.number_multi_txt.string="X"+t.mul,this.composting.active=!1,this.composted.active=!0},i([f(cc.Label)],e.prototype,"number_price_txt",void 0),i([f(cc.Label)],e.prototype,"number_multi_txt",void 0),i([f(cc.Label)],e.prototype,"remaining_txt",void 0),i([f(cc.Node)],e.prototype,"composting",void 0),i([f(cc.Node)],e.prototype,"composted",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../API/ApiService":"ApiService","../SceneManager":"SceneManager","../Sound/SoundManager":"SoundManager","./GamePlayManager":"GamePlayManager"}],GameCofig:[function(t,e,n){"use strict";cc._RF.push(e,"954eefIi99I4aGH+gKvQq+L","GameCofig"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.apiURL="https://plant-demo-be-production.up.railway.app",t.address="0:822775f429613d244315bad3478317ddf221f4b9a8317421fe86c30395fd4b2f",t.auth="query_id=AAEmSroqAgAAACZKuioc0EiA&user=%7B%22id%22%3A5011819046%2C%22first_name%22%3A%22Tuan%22%2C%22last_name%22%3A%22Doan%22%2C%22username%22%3A%22dev_tween%22%2C%22language_code%22%3A%22en%22%2C%22allows_write_to_pm%22%3Atrue%2C%22photo_url%22%3A%22https%3A%5C%2F%5C%2Ft.me%5C%2Fi%5C%2Fuserpic%5C%2F320%5C%2Feg7eZvUr8bhkQMUHibottbPXzv1nvpxK6ljLHEcOpdFHPU42WylHeLqWEi15sSX6.svg%22%7D&auth_date=1743515500&signature=GLKg_cIQp9T0QewPIGEEog7DxuFz_GIGWBU5n6WAeTa29KnRy66jiw7bXi2QP8cFWkxAitbC-m5OQq-GzHk6Bg&hash=6cc4d3edcaf270577868e0fe7103cf683292c04af23974f741640253d17caef7",t}();n.default=o,cc._RF.pop()},{}],GameDefine:[function(t,e,n){"use strict";cc._RF.push(e,"b452eGnjGlDdpvT+q1aGS/d","GameDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.LANGUAGES=n.GAME_STATE=void 0,function(t){t[t.LOGIN_MENU=0]="LOGIN_MENU",t[t.MAINMENU_MENU=1]="MAINMENU_MENU",t[t.LOBBY_MENU=2]="LOBBY_MENU",t[t.GAME_PLAY=3]="GAME_PLAY",t[t.LOGIN_POPUP=4]="LOGIN_POPUP",t[t.ENDGAME_MENU=5]="ENDGAME_MENU"}(n.GAME_STATE||(n.GAME_STATE={})),function(t){t[t.VN=0]="VN",t[t.EN=1]="EN"}(n.LANGUAGES||(n.LANGUAGES={})),cc._RF.pop()},{}],GamePlayManager:[function(t,e,n){"use strict";cc._RF.push(e,"14e4dZeo3NPHbU4FQCL8JXw","GamePlayManager");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../API/ApiService"),l=t("../SceneManager"),u=t("../Sound/SoundManager"),p=t("./ByCompost"),h=t("./ByWater"),d=t("./CompostingSlot"),f=t("./PlantManager"),y=t("./PlantSlot"),_=t("./PlantSlotInfo"),m=t("./UnlockPlant"),v=t("./UpgradePlant"),g=t("./WalletUI"),b=cc._decorator,S=b.ccclass,w=b.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starToken_txt=null,e.flowerToken_txt=null,e.water_txt=null,e.compost_txt=null,e.compostByNode=null,e.waterByNode=null,e.UnlockNode=null,e.plantSlot=null,e.upgradePlant=null,e.walletNode=null,e.compostingNode=null,e.infoNode=null,e.farmName_txt=null,e.NextNode=null,e.PreNode=null,e.listPlantNode=[],e.listPlant=[],e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){var t=this;n.instance=this.getComponent(n),this.listPlantNode.forEach(function(e,n){var o=e.getComponent(f.default);t.listPlant.push(o),o.index=n+1})},e.prototype.start=function(){u.default.inst.playGameMusic()},e.prototype.loadFarm=function(t){return a(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:return[4,s.default.instance.requestGetFarm(t)];case 1:return e=n.sent(),console.log("resultFarm = ",e),e?(this.ShowFarmName(),this.farmID=e.data.id,this.parseFarm(e.data),[2,e]):[2]}})})},e.prototype.parseFarm=function(t){this.listPlant[0].InitPlant(t.slot1),this.listPlant[1].InitPlant(t.slot2),this.listPlant[2].InitPlant(t.slot3),this.listPlant[3].InitPlant(t.slot4),this.listPlant[4].InitPlant(t.slot5),this.listPlant[5].InitPlant(t.slot6),this.listPlant[6].InitPlant(t.slot7),this.listPlant[7].InitPlant(t.slot8),this.listPlant[8].InitPlant(t.slot9),this.listPlant[9].InitPlant(t.slot10)},e.prototype.parseUser=function(t){this.flowerTokenNumber=t.tokenF,this.flowerToken_txt.string=""+this.flowerTokenNumber,this.starTokenNumber=t.token,this.starToken_txt.string=""+this.starTokenNumber,this.waterNumber=t.water,this.water_txt.string=""+this.waterNumber,this.compostNumber=t.compost,this.compost_txt.string=""+this.compostNumber,l.default.instance.name_player=t.name},e.prototype.OnClickCompostBy=function(){this.compostByNode.active=!0,this.compostByNode.getComponent(p.default).Init(),u.default.inst.playSound(u.AudioClips.button_click)},e.prototype.OnClickCWaterBy=function(){this.waterByNode.active=!0,this.waterByNode.getComponent(h.default).Init(),u.default.inst.playSound(u.AudioClips.button_click)},e.prototype.OnClickComposting=function(t){this.compostingNode.active=!0,this.compostingNode.getComponent(d.default).Init(this.listPlant[t-1]),u.default.inst.playSound(u.AudioClips.button_click)},e.prototype.OnClickUnlockFarm=function(t){this.UnlockNode.active=!0,this.UnlockNode.getComponent(m.default).Init(t),u.default.inst.playSound(u.AudioClips.button_click)},e.prototype.OnClickPlantSlot=function(t){this.plantSlot.active=!0,this.plantSlot.getComponent(y.default).Init(t),u.default.inst.playSound(u.AudioClips.button_click)},e.prototype.OnClickUpgradePlan=function(t,e,n){this.upgradePlant.active=!0,this.upgradePlant.getComponent(v.default).Init(t,e,n),u.default.inst.playSound(u.AudioClips.button_click)},e.prototype.OnClickWallet=function(){this.walletNode.active=!0,this.walletNode.getComponent(g.default).Init(),u.default.inst.playSound(u.AudioClips.button_click)},e.prototype.OnClickInfo=function(t,e){this.infoNode.active=!0,this.infoNode.getComponent(_.default).Init(t,e),u.default.inst.playSound(u.AudioClips.button_click)},e.prototype.OnClickNext=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.currentFarm++,this.currentFarm>=l.default.instance.listFarmID.length-1&&(this.currentFarm=l.default.instance.listFarmID.length-1),this.currentFarm===this.lastFarm?[3,2]:(l.default.instance.ShowLoading(!0),[4,this.loadFarm(l.default.instance.listFarmID[this.currentFarm])]);case 1:t.sent(),u.default.inst.playSound(u.AudioClips.button_next),l.default.instance.ShowLoading(!1),t.label=2;case 2:return this.ShowFarmName(),[2]}})})},e.prototype.OnClickPre=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.currentFarm--,this.currentFarm<=0&&(this.currentFarm=0),this.currentFarm===this.lastFarm?[3,2]:(l.default.instance.ShowLoading(!0),[4,this.loadFarm(l.default.instance.listFarmID[this.currentFarm])]);case 1:t.sent(),u.default.inst.playSound(u.AudioClips.button_next),l.default.instance.ShowLoading(!1),t.label=2;case 2:return this.ShowFarmName(),[2]}})})},e.prototype.ShowFarmName=function(){0===this.currentFarm?(this.NextNode.active=!0,this.PreNode.active=!1):this.currentFarm>=l.default.instance.listFarmID.length-1?(this.NextNode.active=!1,this.PreNode.active=!0):(this.NextNode.active=!0,this.PreNode.active=!0),this.farmName_txt.string="FARM "+(this.currentFarm+1),this.lastFarm=this.currentFarm},e.instance=null,i([w(cc.Label)],e.prototype,"starToken_txt",void 0),i([w(cc.Label)],e.prototype,"flowerToken_txt",void 0),i([w(cc.Label)],e.prototype,"water_txt",void 0),i([w(cc.Label)],e.prototype,"compost_txt",void 0),i([w(cc.Node)],e.prototype,"compostByNode",void 0),i([w(cc.Node)],e.prototype,"waterByNode",void 0),i([w(cc.Node)],e.prototype,"UnlockNode",void 0),i([w(cc.Node)],e.prototype,"plantSlot",void 0),i([w(cc.Node)],e.prototype,"upgradePlant",void 0),i([w(cc.Node)],e.prototype,"walletNode",void 0),i([w(cc.Node)],e.prototype,"compostingNode",void 0),i([w(cc.Node)],e.prototype,"infoNode",void 0),i([w(cc.Label)],e.prototype,"farmName_txt",void 0),i([w(cc.Node)],e.prototype,"NextNode",void 0),i([w(cc.Node)],e.prototype,"PreNode",void 0),i([w(cc.Node)],e.prototype,"listPlantNode",void 0),n=i([S],e)}(cc.Component);n.default=P,cc._RF.pop()},{"../API/ApiService":"ApiService","../SceneManager":"SceneManager","../Sound/SoundManager":"SoundManager","./ByCompost":"ByCompost","./ByWater":"ByWater","./CompostingSlot":"CompostingSlot","./PlantManager":"PlantManager","./PlantSlot":"PlantSlot","./PlantSlotInfo":"PlantSlotInfo","./UnlockPlant":"UnlockPlant","./UpgradePlant":"UpgradePlant","./WalletUI":"WalletUI"}],LoadingMgr:[function(t,e,n){"use strict";cc._RF.push(e,"c63a3QoSuBJDLViFJqothRr","LoadingMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=null,e}return r(e,t),e.prototype.onEnable=function(){setInterval(this.RotationLoading.bind(this),200)},e.prototype.RotationLoading=function(){this.loading.angle-=30},i([s(cc.Node)],e.prototype,"loading",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],LoginMenu:[function(t,e,n){"use strict";cc._RF.push(e,"91cd1GN9v9BaZds8/OJtpAG","LoginMenu");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../API/ApiService"),l=t("../GamePlay/GamePlayManager"),u=t("../SceneManager"),p=t("../Sound/SoundManager"),h=t("../Utils/GameDefine"),d=cc._decorator,f=d.ccclass,y=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.OnClickLogin=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return u.default.instance.ShowLoading(!0),p.default.inst.playSound(p.AudioClips.button_click),[4,s.default.instance.requestLogin()];case 1:return t=e.sent(),console.log("result = ",t),t?(t.data.farms.forEach(function(t){u.default.instance.listFarmID.push(t._id)}),l.default.instance.parseUser(t.data.user),[4,u.default.instance.GetConfig()]):[3,4];case 2:return e.sent(),l.default.instance.currentFarm=0,[4,l.default.instance.loadFarm(u.default.instance.listFarmID[l.default.instance.currentFarm])];case 3:e.sent()&&(u.default.instance.gameState=h.GAME_STATE.GAME_PLAY,u.default.instance.handleGameState()),e.label=4;case 4:return u.default.instance.ShowLoading(!1),[2]}})})},i([f],e)}(cc.Component));n.default=y,cc._RF.pop()},{"../API/ApiService":"ApiService","../GamePlay/GamePlayManager":"GamePlayManager","../SceneManager":"SceneManager","../Sound/SoundManager":"SoundManager","../Utils/GameDefine":"GameDefine"}],PlantManager:[function(t,e,n){"use strict";cc._RF.push(e,"b8a2e1iZ8xOA4EFAb3UDh02","PlantManager");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../API/ApiService"),l=t("../SceneManager"),u=t("../Sound/SoundManager"),p=t("../Utils/Util"),h=t("./GamePlayManager"),d=cc._decorator,f=d.ccclass,y=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.plant_unlocked=null,e.plant_rartiy=null,e.plant_rartiy_common=null,e.plant_rartiy_rare=null,e.plant_rartiy_mythic=null,e.compost_icon=null,e.water_icon=null,e.collect_icon=null,e.multi_icon=null,e.upgrade_icon=null,e.compost_time_txt=null,e.mul_txt=null,e.collect_txt=null,e.watering_anim=null,e.composting_anim=null,e}return r(e,t),e.prototype.InitPlant=function(t){if(console.log("plant = ",t),this._id=t._id,this.rarity=t.rarity,this.timeCollect=t.timeCollect,this.lasttimeCollect=t.lasttimeCollect,this.numberCollect=t.numberCollect,this.mulNumber=t.mul,""===this._id)this.plant_unlocked.node.active=!0,this.plant_unlocked.spriteFrame=this.plant_unlocked_sprite,this.plant_rartiy.node.active=!1,this.water_icon.active=!1,this.compost_icon.active=!1,this.collect_icon.active=!1,this.multi_icon.active=!1,this.upgrade_icon.active=!1;else if("unlocked"===this._id)this.plant_unlocked.node.active=!0,this.plant_unlocked.spriteFrame=this.plant_plantting_sprite,this.plant_rartiy.node.active=!1,this.water_icon.active=!1,this.compost_icon.active=!1,this.collect_icon.active=!1,this.multi_icon.active=!1,this.upgrade_icon.active=!1;else{this.plant_unlocked.node.active=!1;var e=new Date,n=e.getTime()/1e3;this.timeCollect-n<=0&&this.numberCollect>0?(this.water_icon.active=!1,this.compost_icon.active=!1,this.collect_icon.active=!0,this.multi_icon.active=!1,this.upgrade_icon.active=!1,this.collect_txt.string=""+this.numberCollect*this.mulNumber,this.UpdateType(1)):0===this.timeCollect?(this.water_icon.active=!0,this.compost_icon.active=!1,this.collect_icon.active=!1,this.multi_icon.active=!1,this.upgrade_icon.active=!0,this.UpdateType(2)):this.timeCollect>0&&(this.water_icon.active=!1,this.compost_icon.active=1===this.mulNumber,this.collect_icon.active=!1,this.multi_icon.active=!0,this.upgrade_icon.active=!1,this.mul_txt.string="x"+this.mulNumber,this.currentTimeCollect=this.timeCollect-e.getTime()/1e3,this.compost_time_txt.string=p.default.toHHMMSS(this.currentTimeCollect),this.UpdateType(3))}},e.prototype.UpdateType=function(t){console.log("type = ",t),1===t?"common"===this.rarity?(this.plant_rartiy.node.active=!0,this.plant_rartiy.animation="Idle",this.plant_rartiy.setSkin("common")):"rare"===this.rarity?(this.plant_rartiy.node.active=!0,this.plant_rartiy.animation="Idle",this.plant_rartiy.setSkin("rare")):"mythic"===this.rarity&&(this.plant_rartiy.node.active=!0,this.upgrade_icon.active=!1,this.plant_rartiy.animation="Idle",this.plant_rartiy.setSkin("mythic")):2===t?"common"===this.rarity?(this.plant_rartiy.node.active=!0,this.plant_rartiy.animation="Dead",this.plant_rartiy.setSkin("common")):"rare"===this.rarity?(this.plant_rartiy.node.active=!0,this.plant_rartiy.animation="Dead",this.plant_rartiy.setSkin("rare")):"mythic"===this.rarity&&(this.plant_rartiy.node.active=!0,this.upgrade_icon.active=!1,this.plant_rartiy.animation="Dead",this.plant_rartiy.setSkin("mythic")):3===t&&("common"===this.rarity?(this.plant_rartiy.node.active=!0,this.plant_rartiy.animation="Idle",this.plant_rartiy.setSkin("common")):"rare"===this.rarity?(this.plant_rartiy.node.active=!0,this.plant_rartiy.animation="Idle",this.plant_rartiy.setSkin("rare")):"mythic"===this.rarity&&(this.plant_rartiy.node.active=!0,this.upgrade_icon.active=!1,this.plant_rartiy.animation="Idle",this.plant_rartiy.setSkin("mythic")))},e.prototype.update=function(){if(this.timeCollect>0&&this.currentTimeCollect>0){var t=new Date;this.currentTimeCollect=this.timeCollect-t.getTime()/1e3,this.compost_time_txt.string=p.default.toHHMMSS(this.currentTimeCollect),this.currentTimeCollect<=0&&(this.water_icon.active=!1,this.compost_icon.active=!1,this.collect_icon.active=!0,this.multi_icon.active=!1,this.upgrade_icon.active=!1,this.collect_txt.string=""+this.numberCollect*this.mulNumber)}},e.prototype.CompostingAnim=function(t){var e=this;this.compost_icon.active=!1,this.multi_icon.active=!1,this.composting_anim.node.active=!0,u.default.inst.playSound(u.AudioClips.compost),setTimeout(function(){e.InitPlant(t),e.composting_anim.node.active=!1},1e3)},e.prototype.PlantFarmID=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return l.default.instance.ShowLoading(!0),[4,s.default.instance.requestPlantFarmID(this.index)];case 1:return(t=e.sent())&&(console.log("resutPlant = ",t),u.default.inst.playSound(u.AudioClips.plant),h.default.instance.parseFarm(t.data),h.default.instance.parseUser(t.user)),l.default.instance.ShowLoading(!1),[2]}})})},e.prototype.Waterring=function(){return a(this,void 0,void 0,function(){var t,e=this;return c(this,function(n){switch(n.label){case 0:return l.default.instance.ShowLoading(!0),this.water_icon.active=!1,[4,s.default.instance.requestWateringID(this._id)];case 1:return(t=n.sent())&&(console.log("resutWatering = ",t),l.default.instance.ShowLoading(!1),this.watering_anim.node.active=!0,u.default.inst.playSound(u.AudioClips.water),setTimeout(function(){e.InitPlant(t.tree),h.default.instance.parseUser(t.user),e.watering_anim.node.active=!1},1e3)),l.default.instance.ShowLoading(!1),[2]}})})},e.prototype.Collecting=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return l.default.instance.ShowLoading(!0),[4,s.default.instance.requestCollectID(this._id)];case 1:return(t=e.sent())&&(console.log("resutCollecting = ",t),this.InitPlant(t.tree),h.default.instance.parseUser(t.user)),l.default.instance.ShowLoading(!1),[2]}})})},e.prototype.OnClickPlant=function(){return a(this,void 0,void 0,function(){return c(this,function(){return""===this._id?h.default.instance.OnClickUnlockFarm(this.index):"unlocked"===this._id?h.default.instance.OnClickPlantSlot(this.index):h.default.instance.OnClickInfo(this.rarity,this.mulNumber),[2]})})},e.prototype.OnClickUpgrade=function(){return a(this,void 0,void 0,function(){return c(this,function(){return""===this._id||"unlocked"===this._id||h.default.instance.OnClickUpgradePlan(this.index,this._id,this.rarity),[2]})})},e.prototype.OnClickWater=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return""!==this._id?[3,1]:[3,4];case 1:return"unlocked"!==this._id?[3,2]:[3,4];case 2:return h.default.instance.waterNumber>0?(u.default.inst.playSound(u.AudioClips.button_click),[4,this.Waterring()]):[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}})})},e.prototype.OnClickCompost=function(){return a(this,void 0,void 0,function(){return c(this,function(){return""===this._id||"unlocked"===this._id||h.default.instance.compostNumber>0&&h.default.instance.OnClickComposting(this.index),[2]})})},e.prototype.OnClickCollect=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return""!==this._id?[3,1]:[3,4];case 1:return"unlocked"!==this._id?[3,2]:[3,4];case 2:return u.default.inst.playSound(u.AudioClips.button_click),[4,this.Collecting()];case 3:t.sent(),t.label=4;case 4:return[2]}})})},i([y(cc.Sprite)],e.prototype,"plant_unlocked",void 0),i([y(cc.SpriteFrame)],e.prototype,"plant_unlocked_sprite",void 0),i([y(cc.SpriteFrame)],e.prototype,"plant_plantting_sprite",void 0),i([y(sp.Skeleton)],e.prototype,"plant_rartiy",void 0),i([y(cc.SpriteFrame)],e.prototype,"plant_rartiy_common",void 0),i([y(cc.SpriteFrame)],e.prototype,"plant_rartiy_rare",void 0),i([y(cc.SpriteFrame)],e.prototype,"plant_rartiy_mythic",void 0),i([y(cc.Node)],e.prototype,"compost_icon",void 0),i([y(cc.Node)],e.prototype,"water_icon",void 0),i([y(cc.Node)],e.prototype,"collect_icon",void 0),i([y(cc.Node)],e.prototype,"multi_icon",void 0),i([y(cc.Node)],e.prototype,"upgrade_icon",void 0),i([y(cc.Label)],e.prototype,"compost_time_txt",void 0),i([y(cc.Label)],e.prototype,"mul_txt",void 0),i([y(cc.Label)],e.prototype,"collect_txt",void 0),i([y(sp.Skeleton)],e.prototype,"watering_anim",void 0),i([y(sp.Skeleton)],e.prototype,"composting_anim",void 0),i([f],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../API/ApiService":"ApiService","../SceneManager":"SceneManager","../Sound/SoundManager":"SoundManager","../Utils/Util":"Util","./GamePlayManager":"GamePlayManager"}],PlantSlotInfo:[function(t,e,n){"use strict";cc._RF.push(e,"a42a9I7NrNBQ5+VUEGni9j1","PlantSlotInfo");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../SceneManager"),c=t("../Sound/SoundManager"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collect_txt=null,e.mul_txt=null,e.time_txt=null,e.rarity_icon=null,e.plant_rartiy_common=null,e.plant_rartiy_rare=null,e.plant_rartiy_mythic=null,e.common_complete=null,e.rare_complete=null,e.mythic_complete=null,e}return r(e,t),e.prototype.Init=function(t,e){"common"===t?(this.rarity_icon.spriteFrame=this.plant_rartiy_common,this.common_complete.node.active=!0,this.rare_complete.node.active=!1,this.mythic_complete.node.active=!1,this.collect_txt.string="+"+a.default.instance.numberCommon,this.mul_txt.string="X"+e,this.time_txt.string="12h"):"rare"===t?(this.rarity_icon.spriteFrame=this.plant_rartiy_rare,this.common_complete.node.active=!1,this.rare_complete.node.active=!0,this.mythic_complete.node.active=!1,this.collect_txt.string="+"+a.default.instance.numberRare,this.mul_txt.string="X"+e,this.time_txt.string="12h"):"mythic"===t&&(this.rarity_icon.spriteFrame=this.plant_rartiy_mythic,this.common_complete.node.active=!1,this.rare_complete.node.active=!1,this.mythic_complete.node.active=!0,this.collect_txt.string="+"+a.default.instance.numberMythic,this.mul_txt.string="X"+e,this.time_txt.string="12h")},e.prototype.OnClickClose=function(){c.default.inst.playSound(c.AudioClips.button_click),this.node.active=!1},i([u(cc.Label)],e.prototype,"collect_txt",void 0),i([u(cc.Label)],e.prototype,"mul_txt",void 0),i([u(cc.Label)],e.prototype,"time_txt",void 0),i([u(cc.Sprite)],e.prototype,"rarity_icon",void 0),i([u(cc.SpriteFrame)],e.prototype,"plant_rartiy_common",void 0),i([u(cc.SpriteFrame)],e.prototype,"plant_rartiy_rare",void 0),i([u(cc.SpriteFrame)],e.prototype,"plant_rartiy_mythic",void 0),i([u(cc.Sprite)],e.prototype,"common_complete",void 0),i([u(cc.Sprite)],e.prototype,"rare_complete",void 0),i([u(cc.Sprite)],e.prototype,"mythic_complete",void 0),i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../SceneManager":"SceneManager","../Sound/SoundManager":"SoundManager"}],PlantSlot:[function(t,e,n){"use strict";cc._RF.push(e,"3c440hq6/hEJqpd5JAcHXTh","PlantSlot");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../API/ApiService"),l=t("../SceneManager"),u=t("../Sound/SoundManager"),p=t("./GamePlayManager"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.number_price_txt=null,e.rarity_icon=null,e.rarity_complete=null,e.plant_rartiy_hagiong=null,e.plant_rartiy_common=null,e.plant_rartiy_rare=null,e.plant_rartiy_mythic=null,e.rarity_rating=null,e.common_complete=null,e.rare_complete=null,e.mythic_complete=null,e.gotcha=null,e.close=null,e.oke=null,e.by=null,e}return r(e,t),e.prototype.Init=function(t){console.log("index = ",t),this._index=t,this.price=l.default.instance.pricePlant,this.number_price_txt.string=""+this.price,this.rarity_icon.spriteFrame=this.plant_rartiy_hagiong,this.rarity_complete.spriteFrame=this.rarity_rating,this.gotcha.active=!1,this.close.active=!0,this.oke.active=!1,this.by.active=!0},e.prototype.OnClickBy=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.price<p.default.instance.starTokenNumber?(u.default.inst.playSound(u.AudioClips.button_click),[4,this.ByPlantSlot()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.OnClickClose=function(){u.default.inst.playSound(u.AudioClips.button_click),this.node.active=!1},e.prototype.ByPlantSlot=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return l.default.instance.ShowLoading(!0),[4,s.default.instance.requestPlantFarmID(this._index)];case 1:return(t=e.sent())&&(console.log("byPlantSlot = ",t),this.ShowData(t.data),u.default.inst.playSound(u.AudioClips.plant),p.default.instance.parseFarm(t.data),p.default.instance.parseUser(t.user)),l.default.instance.ShowLoading(!1),[2]}})})},e.prototype.ShowData=function(t){1===this._index&&this.Detail(t.slot1),2===this._index&&this.Detail(t.slot2),3===this._index&&this.Detail(t.slot3),4===this._index&&this.Detail(t.slot4),5===this._index&&this.Detail(t.slot5),6===this._index&&this.Detail(t.slot6),7===this._index&&this.Detail(t.slot7),8===this._index&&this.Detail(t.slot8),9===this._index&&this.Detail(t.slot9),10===this._index&&this.Detail(t.slot10)},e.prototype.Detail=function(t){"common"===t.rarity?(this.rarity_icon.spriteFrame=this.plant_rartiy_common,this.rarity_complete.spriteFrame=this.common_complete):"rare"===t.rarity?(this.rarity_icon.spriteFrame=this.plant_rartiy_rare,this.rarity_complete.spriteFrame=this.rare_complete):"mythic"===t.rarity&&(this.rarity_icon.spriteFrame=this.plant_rartiy_mythic,this.rarity_complete.spriteFrame=this.mythic_complete),this.gotcha.active=!0,this.close.active=!1,this.oke.active=!0,this.by.active=!1},i([f(cc.Label)],e.prototype,"number_price_txt",void 0),i([f(cc.Sprite)],e.prototype,"rarity_icon",void 0),i([f(cc.Sprite)],e.prototype,"rarity_complete",void 0),i([f(cc.SpriteFrame)],e.prototype,"plant_rartiy_hagiong",void 0),i([f(cc.SpriteFrame)],e.prototype,"plant_rartiy_common",void 0),i([f(cc.SpriteFrame)],e.prototype,"plant_rartiy_rare",void 0),i([f(cc.SpriteFrame)],e.prototype,"plant_rartiy_mythic",void 0),i([f(cc.SpriteFrame)],e.prototype,"rarity_rating",void 0),i([f(cc.SpriteFrame)],e.prototype,"common_complete",void 0),i([f(cc.SpriteFrame)],e.prototype,"rare_complete",void 0),i([f(cc.SpriteFrame)],e.prototype,"mythic_complete",void 0),i([f(cc.Node)],e.prototype,"gotcha",void 0),i([f(cc.Node)],e.prototype,"close",void 0),i([f(cc.Node)],e.prototype,"oke",void 0),i([f(cc.Node)],e.prototype,"by",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../API/ApiService":"ApiService","../SceneManager":"SceneManager","../Sound/SoundManager":"SoundManager","./GamePlayManager":"GamePlayManager"}],SceneManager:[function(t,e,n){"use strict";cc._RF.push(e,"7097cM+vghPEYOPu0JW2qus","SceneManager");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./API/ApiService"),l=t("./Utils/GameDefine"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameState=l.GAME_STATE.LOGIN_MENU,e.loginNode=null,e.gamePlay=null,e.Loading=null,e.listFarmID=[],e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){n.instance=this.getComponent(n),this.gameState=l.GAME_STATE.LOGIN_MENU,this.handleGameState()},e.prototype.start=function(){},e.prototype.handleGameState=function(){this.loginNode.active=this.gameState==l.GAME_STATE.LOGIN_MENU,this.gamePlay.active=this.gameState==l.GAME_STATE.GAME_PLAY},e.prototype.GetConfig=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return[4,s.default.instance.requestGetConfig()];case 1:return t=e.sent(),console.log("result = ",t),t&&(this.priceUpgrade=t.data[0].priceUpgrade,this.priceWater=t.data[0].priceWater,this.priceCompost=t.data[0].priceCompost,this.pricePlant=t.data[0].pricePlant,this.priceUnlock=t.data[0].priceSlot,this.ratioRare=t.data[0].rarityTreeRare,this.ratioMythic=t.data[0].rarityTreeMythic,this.ratioMythic=t.data[0].rarityTreeMythic,this.numberCommon=t.data[0].numberCommon,this.numberRare=t.data[0].numberRare,this.numberMythic=t.data[0].numberMythic),[2]}})})},e.prototype.ShowLoading=function(t){this.Loading.active=t},e.instance=null,i([h({type:cc.Node})],e.prototype,"loginNode",void 0),i([h({type:cc.Node})],e.prototype,"gamePlay",void 0),i([h({type:cc.Node})],e.prototype,"Loading",void 0),n=i([p("SceneManager")],e)}(cc.Component);n.default=d,cc._RF.pop()},{"./API/ApiService":"ApiService","./Utils/GameDefine":"GameDefine"}],SoundChannel:[function(t,e,n){"use strict";cc._RF.push(e,"6dc45P3D5FJkb7O5zzvC7OK","SoundChannel");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.FADE=void 0;var r,i=t("./SoundManager"),a=cc._decorator,c=a.ccclass,s=(a.property,.01);(function(t){t[t.NA=0]="NA",t[t.IN=1]="IN",t[t.OUT=2]="OUT",t[t.INOUT=3]="INOUT"})(r=n.FADE||(n.FADE={}));var l=function(){function t(t){this._playID=-1,this._clipID=null,this._channel=-1,this._currentFade=r.NA,this._FADE_IN_RATE=s,this._FADE_OUT_RATE=s,this.isFadeInComplete=!1,this.isFadeOutComplete=!1,this._channel=t}return t.prototype.play=function(t,e,n,o,a){void 0===o&&(o=!1),void 0===a&&(a=r.NA),this._clipID==t&&this.isPlaying()&&!o||(this._clipID=t,this._currentFade=a,this._MAX_SOUND_VOLUME=e,this._FADE_IN_RATE=e/100,this._FADE_OUT_RATE=e/100,a!=r.IN&&a!=r.INOUT||(e=5e-4),this._currentVolume=e,this._playID=i.default.inst.playSound(t,e,n),this.isFadeInComplete=!1,this.isFadeOutComplete=!1)},t.prototype.getPlayID=function(){return this._playID},t.prototype.getClip=function(){return this._clipID},t.prototype.isPlaying=function(){return i.default.inst.isSoundPlaying(this._playID)},t.prototype.setVolume=function(t){-1!=this._playID&&i.default.inst.setVolume(this._playID,t)},t.prototype.getMaxVolume=function(){return this._MAX_SOUND_VOLUME},t.prototype.getVolume=function(){return this._currentVolume},t.prototype.stop=function(t){void 0===t&&(t=!1),-1!=this._playID&&i.default.inst.stopSound(this._playID),this._playID=-1,this._clipID=-1,this._currentFade=r.NA},t.prototype.FadeOut=function(t){void 0===t&&(t=s),this._currentFade=r.OUT,this._FADE_OUT_RATE=t},t.prototype.FadeIn=function(t){void 0===t&&(t=s),this._currentFade=r.IN,this._FADE_IN_RATE=t},t.prototype.update=function(){if(this._currentFade!=r.NA&&this.isPlaying()){var t=this._currentFade;switch(t==r.INOUT&&(t=this.isFadeInComplete?r.OUT:r.IN),t){case r.IN:this._currentVolume<this._MAX_SOUND_VOLUME&&(this._currentVolume+=this._FADE_IN_RATE,this._currentVolume>=this._MAX_SOUND_VOLUME&&(this._currentVolume=this._MAX_SOUND_VOLUME,this.isFadeInComplete=!0),this.setVolume(this._currentVolume));break;case r.OUT:this._currentVolume>0&&(this._currentVolume-=this._FADE_OUT_RATE,this._currentVolume<=0&&(this._currentVolume=0,this.isFadeOutComplete=!0),this.setVolume(this._currentVolume))}}},t.prototype.onComplete=function(t){-1!=this._playID&&i.default.inst.onComplete(this._playID,t)},o([c],t)}();n.default=l,cc._RF.pop()},{"./SoundManager":"SoundManager"}],SoundID:[function(t,e,n){"use strict";cc._RF.push(e,"bb344DjZYFNAbhaGWjTBOYb","SoundID");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=(r.property,function(){function t(t){this._id=-1,this._clip=t}return t.prototype.setPlayID=function(t){this._id=t},t.prototype.getClip=function(){return this._clip},t.prototype.getPlayID=function(){return this._id},o([i],t)}());n.default=a,cc._RF.pop()},{}],SoundManager:[function(t,e,n){"use strict";cc._RF.push(e,"1533ddzZHNHW6DeTyanOEVn","SoundManager");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.SOUND_INDEX=n.AudioClips=void 0;var a,c,s=t("../Utils/Util"),l=t("./SoundChannel"),u=cc._decorator,p=u.ccclass,h=u.property;(function(t){t[t.button_click=0]="button_click",t[t.button_next=1]="button_next",t[t.compost=2]="compost",t[t.water=3]="water",t[t.unlock=4]="unlock",t[t.plant=5]="plant",t[t.upgrade_complete=6]="upgrade_complete",t[t.upgrade_fail=7]="upgrade_fail"})(a=n.AudioClips||(n.AudioClips={})),function(t){t[t.CHANNEL=0]="CHANNEL",t[t.VOLUME=1]="VOLUME",t[t.PRIORITY=2]="PRIORITY",t[t.LENGTH=3]="LENGTH"}(c=n.SOUND_INDEX||(n.SOUND_INDEX={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SOUND_INFO=[0,.7,0,1,.5,0,2,.5,0],e.musicChannel=null,e.useSound=!0,e.startScreenMusicClip=null,e.inGameMusicClip=null,e.button_click=null,e.button_next=null,e.compost=null,e.water=null,e.unlock=null,e.plant=null,e.upgrade_complete=null,e.upgrade_fail=null,e.SoundIDs=[],e._channels=[],e._channelLength=0,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){n.inst=this},e.prototype.isSoundPlaying=function(t){return cc.audioEngine.getState(t)==cc.audioEngine.AudioState.PLAYING},e.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},e.prototype.playStartScreenMusic=function(){this.stopMusic(),cc.audioEngine.playMusic(this.startScreenMusicClip,!0),cc.audioEngine.setMusicVolume(.3)},e.prototype.playGameMusic=function(){this.stopMusic(),cc.audioEngine.playMusic(this.inGameMusicClip,!0),cc.audioEngine.setMusicVolume(.3)},e.prototype.start=function(){this._channelLength=this.SOUND_INFO.length/c.LENGTH;for(var t=0;t<this._channelLength;t++)this._channels.push(new l.default(t))},e.prototype._playSFX=function(t,e,n){var o=null;return null!=t&&this.useSound&&(o=cc.audioEngine.playEffect(t,n||!1),cc.audioEngine.setVolume(o,e)),o},e.prototype.onComplete=function(t,e){cc.audioEngine.setFinishCallback(t,e)},e.prototype.playSound=function(t,e,n){(!e||e>1)&&(e=1),e<0&&(e=0);var o=this[this.enumToString(a,t)];return Array.isArray(this[this.enumToString(a,t)])&&(o=s.default.randomArr(this[this.enumToString(a,t)])),this._playSFX(o,e,n)},e.prototype.stopSound=function(t){cc.audioEngine.stopEffect(t)},e.prototype.setVolume=function(t,e){e<0&&(e=0),cc.audioEngine.setVolume(t,e)},e.prototype.getVolume=function(t){return cc.audioEngine.getVolume(t)},e.prototype.playSFX=function(t,e,n,o){void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===o&&(o=l.FADE.NA);var r=this.SOUND_INFO[t*c.LENGTH+c.CHANNEL],i=this.SOUND_INFO[t*c.LENGTH+c.VOLUME];return this._channels[r].play(t,i,e,n,o),this._channels[r]},e.prototype.isPlayingSFX=function(t){for(var e=0;e<this._channelLength;e++){var n=this._channels[e];if(n.getClip()==t&&n.isPlaying())return!0}return!1},e.prototype.stopSFX=function(t){for(var e=0;e<this._channelLength;e++){var n=this._channels[e];if(n.getClip()==t&&n.isPlaying()){n.stop();break}}},e.prototype.stopSFXByChannel=function(t){var e=this._channels[t];e.isPlaying()&&e.stop()},e.prototype.stopAllSFX=function(){for(var t=0;t<this._channelLength;t++){var e=this._channels[t];e.isPlaying()&&e.stop()}},e.prototype.update=function(){this.useSound&&this._channels.forEach(function(t){t&&t.update()})},e.prototype.enumToString=function(t,e){for(var n in t)if(t[n]==e)return n;return null},e.inst=null,i([h(Boolean)],e.prototype,"useSound",void 0),i([h({type:cc.AudioClip})],e.prototype,"startScreenMusicClip",void 0),i([h({type:cc.AudioClip})],e.prototype,"inGameMusicClip",void 0),i([h({type:cc.AudioClip})],e.prototype,"button_click",void 0),i([h({type:cc.AudioClip})],e.prototype,"button_next",void 0),i([h({type:cc.AudioClip})],e.prototype,"compost",void 0),i([h({type:cc.AudioClip})],e.prototype,"water",void 0),i([h({type:cc.AudioClip})],e.prototype,"unlock",void 0),i([h({type:cc.AudioClip})],e.prototype,"plant",void 0),i([h({type:cc.AudioClip})],e.prototype,"upgrade_complete",void 0),i([h({type:cc.AudioClip})],e.prototype,"upgrade_fail",void 0),n=i([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../Utils/Util":"Util","./SoundChannel":"SoundChannel"}],UnlockPlant:[function(t,e,n){"use strict";cc._RF.push(e,"9bde0xLaFlIP4GpSVaw3qSU","UnlockPlant");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../API/ApiService"),l=t("../SceneManager"),u=t("../Sound/SoundManager"),p=t("./GamePlayManager"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.number_price_txt=null,e}return r(e,t),e.prototype.Init=function(t){this._index=t,this.price=l.default.instance.priceUnlock,this.number_price_txt.string=""+this.price},e.prototype.OnClickBy=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.price<p.default.instance.starTokenNumber?(u.default.inst.playSound(u.AudioClips.button_click),[4,this.ByUnlockSlot()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.OnClickClose=function(){u.default.inst.playSound(u.AudioClips.button_click),this.node.active=!1},e.prototype.ByUnlockSlot=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return l.default.instance.ShowLoading(!0),[4,s.default.instance.requestUnlockFarmID(this._index)];case 1:return(t=e.sent())&&(console.log("byUnlockSlot = ",t),u.default.inst.playSound(u.AudioClips.unlock),p.default.instance.parseFarm(t.data),this.node.active=!1),l.default.instance.ShowLoading(!1),[2]}})})},i([f(cc.Label)],e.prototype,"number_price_txt",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../API/ApiService":"ApiService","../SceneManager":"SceneManager","../Sound/SoundManager":"SoundManager","./GamePlayManager":"GamePlayManager"}],UpgradePlant:[function(t,e,n){"use strict";cc._RF.push(e,"aacb2fEQjxIS7xxrTJIm9UO","UpgradePlant");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../API/ApiService"),l=t("../SceneManager"),u=t("../Sound/SoundManager"),p=t("./GamePlayManager"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.number_price_txt=null,e.rarity_icon=null,e.plant_rartiy_common=null,e.plant_rartiy_rare=null,e.plant_rartiy_mythic=null,e.rarity_rating=null,e.common_complete=null,e.rare_complete=null,e.mythic_complete=null,e.gotcha=null,e.fail=null,e.close=null,e.oke=null,e.by=null,e.tryAgain=null,e.plant_upgrate=null,e.plant_upgrate_upgrade=null,e.plant_upgrate_complete=null,e.plant_upgrate_fail=null,e.ratioNode=null,e.ratio_txt=null,e.ratioCommonNode=null,e.ratioRareNode=null,e}return r(e,t),e.prototype.Init=function(t,e,n){console.log("index = ",t),this._index=t,this._id=e,this._rarity=n,this.price=l.default.instance.priceUpgrade,this.number_price_txt.string=""+this.price,this.ratioNode.active=!0,this.plant_upgrate.spriteFrame=this.plant_upgrate_upgrade,"common"===this._rarity?(this.rarity_icon.spriteFrame=this.plant_rartiy_common,this.ratio_txt.string=l.default.instance.ratioRare+"%",this.ratioCommonNode.active=!0,this.ratioRareNode.active=!1):"rare"===this._rarity&&(this.rarity_icon.spriteFrame=this.plant_rartiy_rare,this.ratio_txt.string=l.default.instance.ratioMythic+"%",this.ratioCommonNode.active=!1,this.ratioRareNode.active=!0),this.common_complete.node.active=!1,this.rare_complete.node.active=!1,this.mythic_complete.node.active=!1,this.gotcha.active=!1,this.fail.active=!1,this.close.active=!0,this.oke.active=!1,this.tryAgain.active=!1,this.by.active=!0},e.prototype.OnClickBy=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.price<p.default.instance.starTokenNumber?(u.default.inst.playSound(u.AudioClips.button_click),[4,this.UpgradeSlot()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.OnClickClose=function(){u.default.inst.playSound(u.AudioClips.button_click),this.node.active=!1},e.prototype.OnClickTryAgain=function(){u.default.inst.playSound(u.AudioClips.button_click),this.Init(this._index,this._id,this._rarity)},e.prototype.UpgradeSlot=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return l.default.instance.ShowLoading(!0),[4,s.default.instance.requestUpgrade(this._id)];case 1:return(t=e.sent())&&(console.log("upgradeSlot = ",t),this.ShowData(t.tree),p.default.instance.parseUser(t.user)),l.default.instance.ShowLoading(!1),[2]}})})},e.prototype.ShowData=function(t){this.Detail(t)},e.prototype.Detail=function(t){console.log("data = ",t),this.ratioNode.active=!1,t.rarity===this._rarity?(u.default.inst.playSound(u.AudioClips.upgrade_fail),this.plant_upgrate.spriteFrame=this.plant_upgrate_fail,"common"===this._rarity?(this.rarity_icon.spriteFrame=this.plant_rartiy_common,this.common_complete.node.active=!0,this.rare_complete.node.active=!1,this.mythic_complete.node.active=!1):"rare"===this._rarity&&(this.rarity_icon.spriteFrame=this.plant_rartiy_rare,this.common_complete.node.active=!1,this.rare_complete.node.active=!0,this.mythic_complete.node.active=!1),this.gotcha.active=!1,this.fail.active=!0,this.close.active=!0,this.oke.active=!1,this.tryAgain.active=!0,this.by.active=!1):(p.default.instance.listPlant[this._index-1].InitPlant(t),this.plant_upgrate.spriteFrame=this.plant_upgrate_complete,u.default.inst.playSound(u.AudioClips.upgrade_complete),"rare"===t.rarity?(this.rarity_icon.spriteFrame=this.plant_rartiy_rare,this.common_complete.node.active=!1,this.rare_complete.node.active=!0,this.mythic_complete.node.active=!1):"mythic"===t.rarity&&(this.rarity_icon.spriteFrame=this.plant_rartiy_mythic,this.common_complete.node.active=!1,this.rare_complete.node.active=!1,this.mythic_complete.node.active=!0),this.gotcha.active=!0,this.fail.active=!1,this.close.active=!1,this.oke.active=!0,this.tryAgain.active=!1,this.by.active=!1)},i([f(cc.Label)],e.prototype,"number_price_txt",void 0),i([f(cc.Sprite)],e.prototype,"rarity_icon",void 0),i([f(cc.SpriteFrame)],e.prototype,"plant_rartiy_common",void 0),i([f(cc.SpriteFrame)],e.prototype,"plant_rartiy_rare",void 0),i([f(cc.SpriteFrame)],e.prototype,"plant_rartiy_mythic",void 0),i([f(cc.SpriteFrame)],e.prototype,"rarity_rating",void 0),i([f(cc.Sprite)],e.prototype,"common_complete",void 0),i([f(cc.Sprite)],e.prototype,"rare_complete",void 0),i([f(cc.Sprite)],e.prototype,"mythic_complete",void 0),i([f(cc.Node)],e.prototype,"gotcha",void 0),i([f(cc.Node)],e.prototype,"fail",void 0),i([f(cc.Node)],e.prototype,"close",void 0),i([f(cc.Node)],e.prototype,"oke",void 0),i([f(cc.Node)],e.prototype,"by",void 0),i([f(cc.Node)],e.prototype,"tryAgain",void 0),i([f(cc.Sprite)],e.prototype,"plant_upgrate",void 0),i([f(cc.SpriteFrame)],e.prototype,"plant_upgrate_upgrade",void 0),i([f(cc.SpriteFrame)],e.prototype,"plant_upgrate_complete",void 0),i([f(cc.SpriteFrame)],e.prototype,"plant_upgrate_fail",void 0),i([f(cc.Node)],e.prototype,"ratioNode",void 0),i([f(cc.Label)],e.prototype,"ratio_txt",void 0),i([f(cc.Node)],e.prototype,"ratioCommonNode",void 0),i([f(cc.Node)],e.prototype,"ratioRareNode",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../API/ApiService":"ApiService","../SceneManager":"SceneManager","../Sound/SoundManager":"SoundManager","./GamePlayManager":"GamePlayManager"}],Util:[function(t,e,n){"use strict";cc._RF.push(e,"240be7avYxOGIqrKf0AOkeT","Util");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){}return t.getHttp=function(t,e,n,o){void 0===o&&(o=null);var r=new XMLHttpRequest,i="";if(e&&Array.isArray(e)&&e.length>0)for(var a=0;a<e.length;a++)i=0==a?i+"?"+e[a][0]+"="+e[a][1]:i+"&"+e[a][0]+"="+e[a][1];else if("object"==typeof e){for(var c in i+="?",e)i+=c+"="+e[c]+"&";i=i.substr(0,i.length-1)}var s=t+i;s.includes("?")?s+="&dummy="+Date.now().toString():s+="?dummy="+Date.now().toString(),r.open("GET",s,!0),r.onloadend=function(){console.log("http.status"+r.status),console.log(r),4==r.readyState&&200==r.status?n(null,r.responseText):4==r.readyState&&n(r.responseText,null)},r.onerror=function(e){console.log("Error getting URL "+t+": "+e),n(e,null)},r.ontimeout=function(e){console.log("Timeout getting URL "+t),n(e,null)},o&&r.setRequestHeader("Authorization","Bearer "+o),r.send()},t.parseFunctionCallString=function(t){var e=[],n=/([a-zA-Z_$][-a-zA-Z_$0-9]*).*/.exec(t);if(!n)return[];var o=n[1].trim();return e[0]=o,(n=/.*\((.*)\)/.exec(t))&&n[1].trim().split(",").forEach(function(t){var n=t.trim();n.length>0&&e.push(n)}),e},t.postHttp=function(t,e,n,o){return void 0===n&&(n="application/json"),void 0===o&&(o=null),new Promise(function(r,i){var a=new XMLHttpRequest;console.log("pars:",e),a.open("POST",t,!0),a.setRequestHeader("Content-type",n),a.onloadend=function(){4==a.readyState&&200==a.status?r(a.response):4==a.readyState&&i(a.response)},a.onerror=function(e){i("Error post URL "+t+": "+e)},a.ontimeout=function(){i("Timeout post URL "+t)},o&&a.setRequestHeader("Authorization","Bearer "+o),a.send(e)})},t.addQuery=function(t,e){return t.indexOf("?")>=0?t+"&"+e:t+"?"+e},t.showPopup=function(t,e,n,o,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=null);var i=n||1,a=o||.015,c=r||.08,s=cc.sequence(cc.scaleTo(c,i+a),cc.scaleTo(c,i-a),cc.scaleTo(c,i));t.scale=i,t.runAction(s)},t.numberRaise=function(t,e,n,o,r){void 0===o&&(o=null),void 0===r&&(r=null),null==o&&(o=""),null==r&&(r="");for(var i=t.string,a=0;a<i.length;a++)i=i.replace(".","");i=(i=i.replace(o,"")).replace(r,"");var c=parseInt(i);if(e!=c){e=Math.round(e);var s=function(t){return t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"0"};("number"!=typeof c||isNaN(c))&&(c=0);var l=c,u=(e-c)/30;t.node.stopAllActions;var p=cc.sequence(cc.delayTime(.03),cc.callFunc(function(){l+=u,t.string=r+s(Math.round(l))+o,(l>=e&&e>c||l<=e&&e<c)&&(t.string=r+s(e)+o)}));t.node.runAction(cc.sequence(cc.scaleTo(.2,2),cc.repeat(p,31),cc.scaleTo(.2,1)))}},t.changeParent=function(t,e){if(t.parent!=e){var n=function(t){var e=t,n=e.angle;do{n+=(e=e.parent).angle}while(null!=e.parent);return n%360},o=n(t)-n(e),r=t.convertToWorldSpaceAR(cc.v2(0,0)),i=e.convertToNodeSpaceAR(r);t.parent=e,t.position=i,t.angle=o}},t.clearChild=function(t){t.removeAllChildren()},t.randomArr=function(t){return t[Math.floor(Math.random()*t.length)]},t.randomFromTo=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.shuffleArr=function(t){for(var e,n=t.length-1;n>0;n--){var o=Math.floor(Math.random()*(n+1));e=[t[o],t[n]],t[n]=e[0],t[o]=e[1]}return t},t.differenceOf2Arrays=function(t,e){var n=[];for(var o in t=t.toString().split(",").map(Number),e=e.toString().split(",").map(Number),t)-1===e.indexOf(t[o])&&n.push(t[o]);for(o in e)-1===t.indexOf(e[o])&&n.push(e[o]);return n.sort(function(t,e){return t-e})},t.intersect_arrays=function(t,e){for(var n=t.concat().sort(),o=e.concat().sort(),r=[],i=0,a=0;i<t.length&&a<e.length;)n[i]===o[a]?(r.push(n[i]),i++,a++):n[i]<o[a]?i++:a++;return r},t.union_arrays=function(t,e){for(var n={},o=t.length-1;o>=0;--o)n[t[o]]=t[o];for(o=e.length-1;o>=0;--o)n[e[o]]=e[o];var r=[];for(var i in n)n.hasOwnProperty(i)&&r.push(n[i]);return r},t.sumArr=function(t){var e=0;return t.forEach(function(t){e+=t}),e},t.getUrlParameter=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},t.randomProperty=function(t){var e=Object.keys(t);return t[e[e.length*Math.random()<<0]]},t.compareObj=function(t,e){for(var n in t){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;switch(typeof t[n]){case"object":if(!this.compareObj(t[n],e[n]))return!1;break;case"function":if(void 0===e[n]||"compare"!=n&&t[n].toString()!=e[n].toString())return!1;break;default:if(t[n]!=e[n])return!1}}for(var n in e)if(void 0===t[n])return!1;return!0},t.arrayUnion=function(t,e){for(var n=t.concat(e),o=0;o<n.length;o++)for(var r=o+1;r<n.length;r++)this.compareObj(n[o],n[r])&&(n.splice(r,1),r--);return n},t.cloneNumberArray=function(t){return JSON.parse(JSON.stringify(t))},t.getWorldPos=function(t){return t.convertToWorldSpaceAR(cc.v2(0,0))},t.setWorldPos=function(t,e){t.setPosition(t.parent.convertToNodeSpaceAR(e))},t.enumToString=function(t,e){for(var n in t)if(t[n]==e)return n;return null},t.loadPrefab=function(t){return o(this,void 0,Promise,function(){var e;return r(this,function(n){switch(n.label){case 0:return e=null,[4,new Promise(function(e,n){cc.loader.loadRes(t,function(t){if(t)return cc.error(t.message||t),void n(t);e()})}).then(function(t){e=t})];case 1:return n.sent(),[2,e]}})})},t.getHash=function(t){for(var e=0,n=t.length,o=0;o<n;o++)e=(e<<5)-e+t.charCodeAt(o),e|=0;return e},t.getKeys=function(t){var e=[];for(var n in t)e.push(n);return e},t.loadSpriteFrameFromURL=function(t){return new Promise(function(e,n){cc.loader.load({url:t,type:"jpg"},function(t,o){if(t)n(t);else{var r=new cc.SpriteFrame(o);e(r)}})})},t.spawCoin=function(t,e,n,o){t=cc.find("Canvas").convertToNodeSpaceAR(t),e=cc.find("Canvas").convertToNodeSpaceAR(e);for(var r=function(n){var r=cc.instantiate(o);r.parent=cc.find("Canvas"),r.active=!0,r.setPosition(t),r.opacity=0,r.runAction(cc.sequence(cc.delayTime(.05*n),cc.fadeIn(0),cc.spawn(cc.jumpTo(.6,e,e.y-100-200*Math.random(),1),cc.rotateBy(.6,360)),cc.callFunc(function(){r.destroy()})))},i=0;i<n;i++)r(i)},t.toHHMMSS=function(t){var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),o=Math.floor(t)-3600*e-60*n,r=""+e,i=""+n,a=""+o;return e<10&&(r="0"+e),n<10&&(i="0"+n),o<10&&(a="0"+o),r+":"+i+":"+a},t.hideAddress=function(t){if(t)return t.substr(0,10)+"..."+t.substr(t.length-10,t.length-1)},t.roundNumber=function(t,e){return void 0===e&&(e=2),Math.floor(t*Math.pow(10,e))/Math.pow(10,e)},t.hideName=function(t){return t&&t.length>15?t.substr(0,15)+"...":t},t}();n.default=i,cc._RF.pop()},{}],WalletMgr:[function(t,e,n){"use strict";cc._RF.push(e,"69b78opq61PrrO0nAR3E/Tb","WalletMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../GamePlay/GamePlayManager"),l=t("../SceneManager"),u=t("../Utils/GameCofig"),p=t("../Utils/GameDefine"),h=t("./ApiService"),d=cc._decorator,f=d.ccclass,y=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.address=u.default.address,e.btnConnect=null,e.buyNode=null,e.amount=null,e.text="hello",e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){n.s_inst=this,window.addEventListener("message",this.receiveMessage,!1)},e.prototype.start=function(){return a(this,void 0,void 0,function(){return c(this,function(){return window.getWallet(),[2]})})},e.prototype.onConnectClick=function(){return a(this,void 0,void 0,function(){var t,e;return c(this,function(o){switch(o.label){case 0:return window.Telegram?[4,window.connectdata()]:[3,2];case 1:return o.sent(),[3,11];case 2:return l.default.instance.ShowLoading(!0),[4,h.default.instance.requestLogin()];case 3:return t=o.sent(),[4,h.default.instance.getAddress(n.s_inst.address)];case 4:return e=o.sent(),t?t.data.user.address==e.data?[3,6]:[4,h.default.instance.updateAddress(e.data)]:[3,10];case 5:return o.sent(),n.s_inst.address=e.data,[3,7];case 6:n.s_inst.address=e.data,o.label=7;case 7:return t.data.farms.forEach(function(t){l.default.instance.listFarmID.push(t._id)}),s.default.instance.parseUser(t.data.user),[4,l.default.instance.GetConfig()];case 8:return o.sent(),s.default.instance.currentFarm=0,[4,s.default.instance.loadFarm(l.default.instance.listFarmID[s.default.instance.currentFarm])];case 9:o.sent()&&(l.default.instance.gameState=p.GAME_STATE.GAME_PLAY,l.default.instance.handleGameState()),o.label=10;case 10:l.default.instance.ShowLoading(!1),console.log(n.s_inst.address),o.label=11;case 11:return[2]}})})},e.prototype.buyData=function(){var t={action:"buy",amount:1e6*Number(this.amount.string)+"000"};console.log(t),this.postP(t)},e.prototype.postP=function(t){var e=window.parent;this.sendP(e,t)},e.prototype.sendP=function(t,e){t&&(console.log(e),t.postMessage(e,"*"))},e.prototype.receiveMessage=function(t){return a(this,void 0,void 0,function(){var e,o,r,i;return c(this,function(a){switch(a.label){case 0:console.log(t),a.label=1;case 1:return a.trys.push([1,11,,12]),(e=JSON.parse(t.data)).address?(n.s_inst.address=e.address,l.default.instance.ShowLoading(!0),[4,h.default.instance.requestLogin()]):[3,10];case 2:return o=a.sent(),[4,h.default.instance.getAddress(n.s_inst.address)];case 3:return r=a.sent(),o?o.data.user.address==r.data?[3,5]:[4,h.default.instance.updateAddress(r.data)]:[3,9];case 4:return a.sent(),n.s_inst.address=r.data,[3,6];case 5:n.s_inst.address=r.data,a.label=6;case 6:return o.data.farms.forEach(function(t){l.default.instance.listFarmID.push(t._id)}),s.default.instance.parseUser(o.data.user),[4,l.default.instance.GetConfig()];case 7:return a.sent(),s.default.instance.currentFarm=0,[4,s.default.instance.loadFarm(l.default.instance.listFarmID[s.default.instance.currentFarm])];case 8:a.sent()&&(l.default.instance.gameState=p.GAME_STATE.GAME_PLAY,l.default.instance.handleGameState()),a.label=9;case 9:l.default.instance.ShowLoading(!1),a.label=10;case 10:return[3,12];case 11:return i=a.sent(),console.log(i),[3,12];case 12:return[2]}})})},e.s_inst=null,i([y(cc.Node)],e.prototype,"btnConnect",void 0),i([y(cc.Node)],e.prototype,"buyNode",void 0),i([y(cc.EditBox)],e.prototype,"amount",void 0),i([y],e.prototype,"text",void 0),n=i([f],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../GamePlay/GamePlayManager":"GamePlayManager","../SceneManager":"SceneManager","../Utils/GameCofig":"GameCofig","../Utils/GameDefine":"GameDefine","./ApiService":"ApiService"}],WalletUI:[function(t,e,n){"use strict";cc._RF.push(e,"69c5bcK0vBLqKfGgtp/FStC","WalletUI");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../API/WalletMgr"),c=t("../SceneManager"),s=t("../Sound/SoundManager"),l=t("../Utils/Util"),u=t("./GamePlayManager"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name_txt=null,e.walletID_txt=null,e.start_txt=null,e.flower_txt=null,e.ton_txt=null,e}return r(e,t),e.prototype.Init=function(){this.name_txt.string=""+c.default.instance.name_player,console.log("WalletMgr.s_inst = ",a.default.s_inst),this.walletID_txt.string=a.default.s_inst?l.default.hideAddress(a.default.s_inst.address):"Wallet Id",this.start_txt.string=""+u.default.instance.starTokenNumber,this.flower_txt.string=""+u.default.instance.flowerTokenNumber,this.ton_txt.string=""+u.default.instance.starTokenNumber},e.prototype.OnClickClose=function(){s.default.inst.playSound(s.AudioClips.button_click),this.node.active=!1},e.prototype.OnClickCopyBtn=function(){s.default.inst.playSound(s.AudioClips.button_click),navigator.clipboard.writeText(this.walletID_txt.string)},i([d(cc.Label)],e.prototype,"name_txt",void 0),i([d(cc.Label)],e.prototype,"walletID_txt",void 0),i([d(cc.Label)],e.prototype,"start_txt",void 0),i([d(cc.Label)],e.prototype,"flower_txt",void 0),i([d(cc.Label)],e.prototype,"ton_txt",void 0),i([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../API/WalletMgr":"WalletMgr","../SceneManager":"SceneManager","../Sound/SoundManager":"SoundManager","../Utils/Util":"Util","./GamePlayManager":"GamePlayManager"}],Web3Service:[function(t,e,n){"use strict";cc._RF.push(e,"9dc5a+o/NVI2ouTe2Hg4PLu","Web3Service");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Scripts/SceneManager"),l=t("../ErrorPopup"),u=t("../LoginMenuManager"),p=t("../UserMgr"),h=t("../Utils/GameDefine"),d=t("./ApiService"),f=cc._decorator,y=f.ccclass,_=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.s_teleID="",e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){n.instance=this.getComponent(n)},e.prototype.start=function(){this.CheckPrivateKeyTele()},e.prototype.CheckPrivateKeyTele=function(){return a(this,void 0,void 0,function(){var t,e,n;return c(this,function(o){switch(o.label){case 0:return s.default._instance.ShowLoading(!0),window.Telegram?[4,window.Telegram.WebApp.initData]:[3,3];case 1:return t=o.sent(),[4,window.Telegram.WebApp.initDataUnsafe];case 2:o.sent()&&(this.s_teleID=t),o.label=3;case 3:return console.log("this.s_teleID = ",this.s_teleID),u.LoginMenuManager._instance.ShowTeleID(this.s_teleID),""===this.s_teleID?[3,5]:(e={auth:this.s_teleID},console.log("this.s_teleID 3333 = ",this.s_teleID),[4,d.default.instance.requestGetUserInfo(e)]);case 4:return n=o.sent(),console.log("CheckPrivateKeyTele = ",n),n&&"404 Error."!==n.error?n.message&&""!==n.message?l.default.instance.ShowErrorPopup(n.message):(p.default.instance._id=n._id,p.default.instance.amount=n.amount,p.default.instance.address=n.address,p.default.instance.privateKey=n.privateKey,p.default.instance.teleId=n.teleId,s.default._instance.gameState=h.GAME_STATE.MAINMENU_MENU,s.default._instance.handleGameState()):l.default.instance.ShowErrorPopup("Error when call API"),[3,6];case 5:console.log("this.s_teleID 1111 = ",this.s_teleID),l.default.instance.ShowErrorPopup("Cannot Get Tele ID"),o.label=6;case 6:return s.default._instance.ShowLoading(!1),[2]}})})},e.prototype.CheckPrivateKeyTeleTest=function(){return a(this,void 0,void 0,function(){var t,e;return c(this,function(n){switch(n.label){case 0:return s.default._instance.ShowLoading(!0),this.s_teleID="1424286035",console.log("this.s_teleID = ",this.s_teleID),u.LoginMenuManager._instance.ShowTeleID(this.s_teleID),""===this.s_teleID?[3,2]:(t={teleId:this.s_teleID},console.log("this.s_teleID 3333 = ",this.s_teleID),[4,d.default.instance.requestGetUserInfoTest(t)]);case 1:return e=n.sent(),console.log("CheckPrivateKeyTele = ",e),e&&"404 Error."!==e.error?e.message&&""!==e.message?l.default.instance.ShowErrorPopup(e.message):(p.default.instance._id=e._id,p.default.instance.amount=e.amount,p.default.instance.address=e.address,p.default.instance.privateKey=e.privateKey,p.default.instance.teleId=e.teleId,s.default._instance.gameState=h.GAME_STATE.MAINMENU_MENU,s.default._instance.handleGameState()):l.default.instance.ShowErrorPopup("Error when call API"),[3,3];case 2:console.log("this.s_teleID 1111 = ",this.s_teleID),l.default.instance.ShowErrorPopup("Cannot Get Tele ID"),n.label=3;case 3:return s.default._instance.ShowLoading(!1),[2]}})})},e.instance=null,n=i([y],e)}(cc.Component));n.default=_,cc._RF.pop()},{"../../Scripts/SceneManager":void 0,"../ErrorPopup":void 0,"../LoginMenuManager":void 0,"../UserMgr":void 0,"../Utils/GameDefine":"GameDefine","./ApiService":"ApiService"}],nCSV:[function(t,e,n){"use strict";cc._RF.push(e,"e2bb4h/dglGeIIe9YYGWyvQ","nCSV"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.parseLineSingle=function(t){for(var e=[],n=t.length,o=!1,r="",i=0;i<n;i++){var a=t.charAt(i);if(!/\s/.test(a)){if(o){if('"'==a){o=!1;continue}}else if('"'==a){o=!0;continue}","!=a||o?r+=a:(e.push(r),r="")}}return r.length>0&&e.push(r),e},t.parseParameters=function(e){var n=e.split("\r\n"),o={};return n.forEach(function(e){if(e.startsWith("#")){var n=t.parseLineSingle(e),r=n[0].substr(1);o[r]=n[1]}}),o},t.parseTable=function(e){if(!e)return!1;var n=e.split("\r\n"),o=[];n.forEach(function(t){t.startsWith("#")||o.push(t)});for(var r=t.parseLineSingle(o[0]),i=o.length,a=r.length,c=[],s=1;s<i;s++){for(var l=t.parseLineSingle(o[s]),u={},p=0;p<a;p++)p>=l.length?u[r[p]]="":u[r[p]]=l[p];c.push(u)}return c},t}();n.default=o,cc._RF.pop()},{}]},{},["LoadingMgr","ApiService","WalletMgr","Web3Service","ByCompost","ByWater","CompostingSlot","GamePlayManager","PlantManager","PlantSlot","PlantSlotInfo","UnlockPlant","UpgradePlant","WalletUI","LoginMenu","SceneManager","SoundChannel","SoundID","SoundManager","GameCofig","GameDefine","Util","nCSV"]);